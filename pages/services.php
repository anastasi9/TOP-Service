<?php
session_start();
if (!isset($_SESSION['user_role']) || $_SESSION['user_role'] !== 'admin') {
    header('Location: ../../login.php');
    exit();
}
?>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Управление услугами</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/admin.css">
</head>
<body>

<div class="admin-container">


    <!-- Main Content -->
    <div class="main-content">
        <div class="dashboard-header">
            <h1><i class="fas fa-concierge-bell"></i> Управление услугами</h1>
            <a href="/admin/" class="btn-back"><i class="fas fa-arrow-left"></i> Назад</a>
        </div>

        <!-- Категории услуг -->
        <div class="services-list">

            <?php
            // Здесь хранятся данные о всех услугах
            $categories = [
                "Запуск. Анализ / подготовка проектов по открытию ресторана (РФ)" => [
                    "Аудит локации перед запуском / исследование",
                    "Выезд на объект, инспекция, исследование",
                    "Анализ существующих проектов в разрезе проектной и рабочей документации",
                    "СОТ, Аудио, СКС, СКУД, ЛВС, Мультимедиа",
                    "Разработка проектов / проектной и рабочей документации с учетом требований",
                    "Менеджмент / сопровождение проектов по открытию ресторана",
                    "Частичный / полный"
                ],
                "Запуск. Монтажные работы (РФ)" => [
                    "Доставка на объект оборудования и расходных материалов",
                    "Организация строительного оборудования: Строительные леса, стремянки, краны, бурильные машины и прочее",
                    "Монтаж и прокладка кабельных линий на высоте до 4 метров",
                    "Высотные работы по монтажу и прокладке кабельных линий",
                    "Строительно-монтажные работы по установке оборудования: Видео, Аудио, СКУД, Мультимедиа"
                ],
                "Запуск. Подбор и поставка оборудования (РФ)" => [
                    "Подбор и поставка оборудования: Видео, Аудио, СКУД, АРМ, Сетевое, Мультимедиа",
                    "Подбор и поставка технологического оборудования",
                    "Подбор и поставка кассового оборудования / Автоматизация"
                ],
                "Запуск. Ввод оборудования в эксплуатацию (РФ)" => [
                    "Установка POS терминала",
                    "Монтаж POS терминала",
                    "Установка сервис принтера",
                    "Подключение денежного ящика",
                    "Подключение сканера",
                    "Подключение фискального регистратора",
                    "Установка маршрутизатора",
                    "Установка коммутатора",
                    "Установка точки доступа Wi-Fi",
                    "Подключение МФУ"
                ],
                "Сервис. Ремонтно-отделочные, общестроительные работы (Москва, Сочи)" => [
                    "Сборка мебели",
                    "Сборка стеллажей",
                    "Замена петель на мебели и дверях межкомнатных",
                    "Замена замков",
                    "Замена стекол на холодильных витринах с десертами",
                    "Замена дверных ручек",
                    "Замена дверей, монтаж наличников",
                    "Замена стеклянных элементов",
                    "Лакокрасочные работы: стен, мебели и прочих поверхностей",
                    "Ремонт напольного покрытия, замена плитки",
                    "Перестановка мебели и оборудования",
                    "Оклейка отдельных стеклянных элементов пленкой",
                    "Монтаж навесных элементов",
                    "Монтаж отверстий в мебели для вывода коммуникаций",
                    "Монтаж планов эвакуаций",
                    "Обеспечение устойчивости мебели и оборудования",
                    "Мелкий ремонт мебели"
                ],
                "Сервис. Сантехнические работы (Москва, Сочи)" => [
                    "Ремонт автоматических помп",
                    "Ремонт ринзеров",
                    "Устранение засоров",
                    "Ремонт смесителей",
                    "Ремонт подводящих труб"
                ],
                "Сервис. Электромонтажные работы (Москва, Сочи)" => [
                    "Замена удлинителей",
                    "Обеспечение заземления оборудования",
                    "Замена приборов освещения",
                    "Восстановление системы электроснабжения",
                    "Поиск и устранение первопричин короткого замыкания",
                    "Поиск и устранение причин задымления в помещении",
                    "Диагностика и восстановление работоспособности оборудования",
                    "Монтаж рекламных материалов",
                    "Монтаж подсветки витрин для выпечки",
                    "Подключение стабилизаторов напряжения",
                    "Замена выключателей, розеток, автоматов",
                    "Ремонт подсветки рекламных конструкций",
                    "Поиск и устранение причин перебоев электричества"
                ],
                "Сервис. ТО и ремонт холодильного оборудования (Москва, Сочи)" => [
                    "Регламентное ТО холодильников",
                    "Диагностика неполадок",
                    "Запчасти / расходные материалы",
                    "Дозаправка фреоном",
                    "Замена компрессоров, испарителей",
                    "Чистка конденсаторов"
                ],
                "Сервис. ТО и ремонт кофемашин и кофемолок (Москва, Сочи)" => [
                    "Регламентное ТО кофемашин и кофемолок",
                    "Диагностика неполадок",
                    "Капитальный ремонт оборудования"
                ],
                "Сервис. ИТ решения + инфраструктура" => [
                    "Поддержка рабочих мест на объекте",
                    "Поддержка систем видеонаблюдения",
                    "Поддержка аудио систем и мультимедиа",
                    "Поддержка локальной сети",
                    "Поддержка гостевого WIFI",
                    "Поддержка дополнительных систем",
                    "Предоставление интернета в аварийном случае",
                    "Блочный ремонт оборудования",
                    "Запасные части и комплектующие",
                    "Обслуживание ККТ",
                    "Предоставление подменного оборудования",
                    "Замена фискального накопителя",
                    "Фискальный накопитель 15 месяцев",
                    "Подписка ОФД на 15 месяцев",
                    "Услуга по настройке рабочего места",
                    "Услуга по переносу информации"
                ]
            ];
            ?>

            <?php foreach ($categories as $category => $services): ?>
                <section class="service-category">
                    <h2><?= htmlspecialchars($category) ?></h2>
                    <ul class="service-items">
                        <?php foreach ($services as $service): ?>
                            <li class="service-item">
                                <?= htmlspecialchars($service) ?>
                                <div class="actions">
                                    <button class="btn-edit">Редактировать</button>
                                    <button class="btn-delete">Удалить</button>
                                </div>
                            </li>
                        <?php endforeach; ?>
                    </ul>

                    <!-- Форма добавления новой услуги -->
                    <form class="add-service-form">
                        <input type="text" placeholder="Новая услуга..." required>
                        <button type="submit" class="btn-add">Добавить</button>
                    </form>
                </section>
            <?php endforeach; ?>
        </div>
    </div>
</div>

<style>
    .services-list {
        margin-top: 2rem;
    }

    .service-category {
        background: #f9f9f9; 
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1.5rem;
    }

    .service-category h2 {
        font-size: 1.2rem;
        margin-bottom: 1rem;
    }

    .service-items {
        list-style: none;
        padding-left: 0;
    }

    .service-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem 0;
        border-bottom: 1px solid #eee;
    }

    .actions button {
        margin-left: 10px;
        padding: 5px 10px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    .btn-edit {
        background-color: #007bff;
        color: white;
    }

    .btn-delete {
        background-color: #dc3545;
        color: white;
    }

    .add-service-form {
        margin-top: 1rem;
        display: flex;
        gap: 10px;
    }

    .add-service-form input {
        flex: 1;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #ccc;
    }

    .btn-add {
        padding: 8px 15px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
</style>

</body>
</html>